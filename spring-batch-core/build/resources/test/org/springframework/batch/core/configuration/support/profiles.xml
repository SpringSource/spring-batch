<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="https://www.springframework.org/schema/beans" 
	xmlns:aop="https://www.springframework.org/schema/aop"
	xmlns:tx="https://www.springframework.org/schema/tx" 
	xmlns:p="https://www.springframework.org/schema/p"
	xmlns:util="https://www.springframework.org/schema/util"
	xmlns:context="https://www.springframework.org/schema/context" 
	xmlns:xsi="https://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
		https://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans-3.1.xsd
		https://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop-3.1.xsd
		https://www.springframework.org/schema/tx https://www.springframework.org/schema/tx/spring-tx-3.1.xsd
		https://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context-3.1.xsd
		https://www.springframework.org/schema/util https://www.springframework.org/schema/util/spring-util-3.1.xsd">

	<beans profile="preferred">
		<bean id="test-job" class="org.springframework.batch.core.job.JobSupport">
			<property name="name" value="${bar}" />
		</bean>

		<context:property-placeholder order="0" properties-ref="myProperties"/>
		
	    <bean id="myProperties" class="org.springframework.beans.factory.config.PropertiesFactoryBean">
	        <property name="properties">
	            <props>
	                <prop key="bar">spam</prop>
	            </props>
	        </property>
	    </bean>
	</beans>
	
	<beans profile="other">
		<bean id="test-job" class="org.springframework.batch.core.job.JobSupport">
			<property name="name" value="${bar}" />
		</bean>

		<context:property-placeholder order="0" properties-ref="myProperties"/>
		
	    <bean id="myProperties" class="org.springframework.beans.factory.config.PropertiesFactoryBean">
	        <property name="properties">
	            <props>
	                <prop key="bar">foo</prop>
	            </props>
	        </property>
	    </bean>
	</beans>
</beans>
